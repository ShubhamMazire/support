(()=>{"use strict";$(document).ready((function(){$("#status-filter").select2({width:"100%"}),$("#category-filter").select2({width:"100%"})}));var t="#ticketsTbl";$(t).DataTable({pageLength:10,oLanguage:{sEmptyTable:Lang.get("messages.common.empty_data_table"),sInfo:Lang.get("messages.common.data_base_entries"),oPaginate:{sFirst:Lang.get("messages.common.first"),sLast:Lang.get("messages.common.last"),sNext:Lang.get("messages.common.next"),sPrevious:Lang.get("messages.common.last")},sLengthMenu:Lang.get("messages.common.menu_entry"),sInfoEmpty:Lang.get("messages.common.no_entry"),sInfoFiltered:Lang.get("messages.common.filter_by"),sZeroRecords:Lang.get("messages.common.no_matching")},fnDrawCallback:function(){Math.ceil(this.fnSettings().fnRecordsDisplay()/this.fnSettings()._iDisplayLength)>1?$(".dataTables_paginate").css("display","block"):$(".dataTables_paginate").css("display","none"),Math.ceil(this.fnSettings().fnRecordsDisplay()),this.fnSettings().fnRecordsDisplay()<10&&$(this).find("tbody tr").length<=1&&""===$('input[type="search"]').val()&&""===$("#status-filter").val()&&$("#category-filter").val(),$(".dataTable_custom_filter").css("right",$("#ticketsTbl_filter").outerWidth()),$(".dataTable_custom_filter_category").css("right",$("#ticketsTbl_filter").outerWidth()+$("#status-filter").next().outerWidth()+10)},processing:!0,serverSide:!0,order:[[3,"desc"]],ajax:{url:ticketByUserUrl,data:function(t){t.statusId=$("#status-filter").val(),t.categoryId=$("#category-filter").val()}},columnDefs:[{targets:[0],width:"15%"},{targets:[1],width:"30%"},{targets:[2],width:"25%"},{targets:[3],width:"25%"},{targets:[4],orderable:!1,className:"text-center",width:"10%"}],columns:[{data:function(t){return'<a href="'+(ticketUrl+"/"+t.id)+'" class="text-decoration-none text-primary hover-primary">'+t.ticket_id+"</a>"},name:"ticket_id"},{data:function(t){return t.title},name:"title"},{data:function(t){return'<a href="'+route("category.show",t.category.id)+'" class="text-decoration-none">'+t.category.name+"</a>"},name:"category.name"},{data:function(t){return moment(t.created_at).format("Do MMM, Y")},name:"created_at"},{data:function(t){return'<span class="ticket-application-status badge badge-'+statusColorArray[t.status]+'">'+statusArray[t.status]+"</span>"},name:"status"}],fnInitComplete:function(){$(document).on("change","#status-filter",(function(){$(t).DataTable().ajax.reload(null,!0)})),$(document).on("change","#category-filter",(function(){$(t).DataTable().ajax.reload(null,!0)}))}})})();