$(document).ready((function(){"use strict";$(document).keydown((function(e){27===e.keyCode&&$("#editModal").modal("hide")}));var e=Pickr.create({el:".color-wrapper",theme:"nano",closeWithKey:"Enter",autoReposition:!0,defaultRepresentation:"HEX",position:"bottom-end",swatches:["rgba(244, 67, 54, 1)","rgba(233, 30, 99, 1)","rgba(156, 39, 176, 1)","rgba(103, 58, 183, 1)","rgba(63, 81, 181, 1)","rgba(33, 150, 243, 1)","rgba(3, 169, 244, 1)","rgba(0, 188, 212, 1)","rgba(0, 150, 136, 1)","rgba(76, 175, 80, 1)","rgba(139, 195, 74, 1)","rgba(205, 220, 57, 1)","rgba(255, 235, 59, 1)","rgba(255, 193, 7, 1)"],components:{preview:!0,hue:!0,interaction:{input:!0,clear:!1,save:!1}}});e.on("change",(function(){var t=e.getColor().toHEXA().toString();if(function(e){var t=e.replace("#",""),o=parseInt(t.substr(0,2),16),r=parseInt(t.substr(2,2),16),a=parseInt(t.substr(4,2),16);return(299*o+587*r+114*a)/1e3>240}(t))return $("#editForm #editValidationErrorsBox").html("Pick a different color").show(),$(':input[id="btnEditSave"]').prop("disabled",!0),void setTimeout((function(){$(".alert").slideUp(300)}),3e3);$("#editValidationErrorsBox").hide(),$(':input[id="btnEditSave"]').prop("disabled",!1),e.setColor(t),$("#edit_color").val(t)})),$(document).on("click","#color",(function(){})),$(document).on("click",".edit-btn",(function(e){var t=$(e.currentTarget).attr("data-id");renderData(t)})),window.renderData=function(t){$.ajax({url:categoryUrl+"/"+t+"/edit",type:"GET",success:function(t){t.success&&($("#categoryId").val(t.data.id),$("#editName").val(t.data.name),$("#editColor").val(t.data.color),e.setColor(t.data.color),$("#editModal").appendTo("body").modal("show"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},$(document).on("submit","#editForm",(function(e){e.preventDefault(),processingBtn("#editForm","#btnEditSave","loading");var t=$("#categoryId").val();$.ajax({url:route("category.update",t),type:"put",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#editModal").modal("hide"),location.reload(!0))},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){processingBtn("#editForm","#btnEditSave")}})})),$("#editModal").on("hidden.bs.modal",(function(){resetModalForm("#editForm","#editValidationErrorsBox"),e.setColor("#33b0b0"),e.hide(),$("#editColorError").text("")}))}));